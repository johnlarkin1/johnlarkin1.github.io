/**
 * Interactive Python code runner styles
 */

.python-runner {
  margin: 2rem 0;
  border-radius: 8px;
  overflow: hidden;
  background: #1e1e1e;
  border: 1px solid #333;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

  &__header {
    background: #2a2a2a;
    padding: 0.5rem 1rem;
    border-bottom: 1px solid #333;
  }

  &__collapse-btn {
    background: transparent;
    border: none;
    color: #888;
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: color 0.2s ease;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;

    &:hover {
      color: #ddd;
    }

    .collapse-icon {
      font-size: 0.8rem;
      display: inline-block;
      transition: transform 0.2s ease;
    }
  }

  &__code {
    background: #1e1e1e;
  }

  &__pre {
    margin: 0;
    padding: 1.25rem;
    overflow-x: auto;
    background: #1e1e1e;
    border-bottom: 1px solid #333;
  }

  &__code-block {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
    font-size: 0.9rem;
    line-height: 1.6;
    color: #d4d4d4;
    background: transparent;
    padding: 0;
    border: none;

    // Prism syntax highlighting integration
    // Let Prism handle the colors, but ensure they work on dark background
    .token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata { color: #6a9955; }

    .token.punctuation { color: #d4d4d4; }

    .token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted { color: #b5cea8; }

    .token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted { color: #ce9178; }

    .token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string { color: #d4d4d4; }

    .token.atrule,
    .token.attr-value,
    .token.keyword { color: #569cd6; }

    .token.function,
    .token.class-name { color: #dcdcaa; }

    .token.regex,
    .token.important,
    .token.variable { color: #d16969; }
  }

  &__controls {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1.25rem;
    background: #252525;
    border-bottom: 1px solid #333;
  }

  &__run-btn {
    padding: 0.5rem 1.25rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;

    &:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    &:active:not(:disabled) {
      transform: translateY(0);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  &__spinner {
    color: #888;
    font-size: 0.9rem;
    animation: pulse 1.5s ease-in-out infinite;
  }

  &__output {
    padding: 1.25rem;
    background: #181818;
    border-top: 2px solid #667eea;

    // Smooth reveal animation
    animation: slideDown 0.3s ease;
  }

  &__text-output {
    margin: 0;
    padding: 1rem;
    background: #0d1117;
    border-left: 3px solid #58a6ff;
    color: #c9d1d9;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
    font-size: 0.85rem;
    line-height: 1.6;
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  &__plot-output {
    margin-top: 1rem;
    text-align: center;

    img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
  }

  &__error-output {
    margin: 0;
    padding: 1rem;
    background: #3a1a1a;
    border-left: 3px solid #f85149;
    color: #ff6b6b;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
    font-size: 0.85rem;
    line-height: 1.6;
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  &__success {
    padding: 1rem;
    background: #1a3a1a;
    border-left: 3px solid #2ea043;
    color: #7ee787;
    font-size: 0.9rem;
    border-radius: 4px;
  }
}

// Animation keyframes
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .python-runner {
    &__pre {
      padding: 1rem;
    }

    &__controls {
      padding: 0.625rem 1rem;
    }

    &__output {
      padding: 1rem;
    }

    &__code-block {
      font-size: 0.85rem;
    }
  }
}
