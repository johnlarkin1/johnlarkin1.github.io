<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --><title>CryptoCraze - Text Notifications | Where will you go next?</title><meta name="generator" content="Jekyll v3.9.1" /><meta property="og:title" content="CryptoCraze - Text Notifications" /><meta name="author" content="johnlarkin1" /><meta property="og:locale" content="en_US" /><meta name="description" content="Have you heard of cryptocurrencies? So has the rest of the world. Why not make your updates a little easier?" /><meta property="og:description" content="Have you heard of cryptocurrencies? So has the rest of the world. Why not make your updates a little easier?" /><link rel="canonical" href="http://localhost:4000/2017/crypto-notifications/" /><meta property="og:url" content="http://localhost:4000/2017/crypto-notifications/" /><meta property="og:site_name" content="Where will you go next?" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-12-12T00:00:00-06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="CryptoCraze - Text Notifications" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"johnlarkin1"},"@type":"BlogPosting","description":"Have you heard of cryptocurrencies? So has the rest of the world. Why not make your updates a little easier?","headline":"CryptoCraze - Text Notifications","dateModified":"2017-12-12T00:00:00-06:00","datePublished":"2017-12-12T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2017/crypto-notifications/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/mountain.png"},"name":"johnlarkin1"},"url":"http://localhost:4000/2017/crypto-notifications/","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png?v=qA3OXqyw77"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png?v=qA3OXqyw77"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png?v=qA3OXqyw77"><link rel="manifest" href="/assets/img/icons/manifest.json?v=qA3OXqyw77"><link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg?v=qA3OXqyw77" color="#5bbad5"> <!--[if IE]><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><![endif]--><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><meta name="apple-mobile-web-app-title" content="Sleek"><meta name="application-name" content="Sleek"><meta name="msapplication-config" content="/assets/img/icons/browserconfig.xml?v=qA3OXqyw77"><meta name="theme-color" content="#ffffff"> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-KDHGNV6"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'GTM-KDHGNV6'); </script><style class="inlineCSS"> h1{color:#313237;margin-top:0;margin-bottom:.5rem}.dark-bg{background-color:#313237}@media only screen and (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:last-of-type,.post-card:nth-child(2n+2){margin-right:0}}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figure,main{display:block}figure{margin:1em 40px}a{background-color:transparent;-webkit-text-decoration-skip:objects}img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}body{-webkit-overflow-scrolling:touch}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}.site{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.site__content{-webkit-box-flex:1;-ms-flex:1;flex:1}img{max-width:100%;height:auto;width:auto;vertical-align:middle}figure{margin:0}body{background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;font-size:1rem;line-height:1.5;color:#343851;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}p{margin-top:0;margin-bottom:1.25rem}h1,h2{color:#313237;margin-top:0;margin-bottom:.5rem}a{color:#277cea;text-decoration:none;border-bottom:1px dashed #277cea}.blur{background:#fff;filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="16" /></filter></svg>#filter');-webkit-filter:blur(1rem);filter:blur(1rem)}.container{padding:0 20px;max-width:100%;margin:0 auto}@media only screen and (min-width:36em){.container{max-width:540px;margin:0 auto}}@media only screen and (min-width:48em){.container{max-width:720px;margin:0 auto}}@media only screen and (min-width:62em){.container{max-width:960px;margin:0 auto}}@media only screen and (min-width:75em){.container{max-width:1170px;margin:0 auto}}.header{background-color:#fff;color:#343851;position:absolute;z-index:4;width:100%;top:0;left:0;will-change:transform;-webkit-transform:translateY(0);transform:translateY(0)}.header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0}.header__logo{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;overflow:hidden;padding:19px 0;margin-right:1.25rem;outline:0;border-bottom:0;color:#313237}.header__logo .header__logo--container{width:58px}.header__logo .header__logo--container .logo{fill:currentColor}.header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:3.75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header__links{padding-bottom:.5rem;display:none;position:absolute;top:3.75em;left:0;width:100%;height:auto;background:#fff}.header__link{color:#343851;padding:.938rem 0;border-top:1px solid #ededed}.header__toggle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px;height:100%;background-color:transparent;padding-left:1.25rem}.header__toggle span{display:block;position:relative;margin-top:4px;background-color:#343851;width:100%;height:2px;border-radius:1px}.header__toggle span:first-child{margin-top:0}@media (min-width:62em){.header__toggle{display:none;visibility:hidden}.header__links{position:static;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;visibility:visible;width:auto;height:100%}.header__links-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;padding:0}.header__link{position:relative;padding:.938rem 1rem;border:0;height:100%}.header__link::after{content:"";display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);background:#277cea}}.post-card{display:block;position:relative;width:100%;min-height:250px;border-radius:4px;overflow:hidden;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.08);box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:2.25rem;border-bottom:0}@media only screen and (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:0}}@media only screen and (min-width:75em){.post-card{width:31.25%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:3.125%}}.post-card__label{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.post-card__inner{display:block;position:relative;padding:1.875rem 1.25rem .625rem;width:100%;color:#838c8d;border-bottom:0}.post-card__header{margin-bottom:.75rem}.post-card__meta{font-size:.875rem}.post-card__thumb{margin:0;background:#fff;position:relative;overflow:hidden}.post-card__thumb::after{content:"";display:block;height:0;width:100%;padding-bottom:56.25%}.post-card__thumb>*{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.label{padding:0 10px;margin-bottom:1rem;display:inline-block;line-height:20px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.8);border:2px solid rgba(255,255,255,.5);border-radius:100px}.hero{margin:3.75rem auto 0;min-height:16.25rem;width:100%;position:relative;background-color:#dde5ea;background-repeat:no-repeat;background-position:50%;background-size:cover}@media only screen and (min-width:62em){.hero{margin:0 auto;height:36em}}.hero::before{position:absolute;display:block;content:"";top:0;left:0;width:100%;height:100%;background:rgba(52,56,81,.8)}.hero__wrap{position:absolute;margin:auto;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;color:rgba(255,255,255,.8);width:100%;max-width:90%;z-index:1}.hero__wrap .hero__title{font-size:1.8em;color:#fff}.blog{background-color:#f9f9f9}.post-list{padding-top:2.5em;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}@media only screen and (min-width:48em){.hero__wrap{max-width:40em}.hero__wrap .hero__title{padding:1rem 0;font-size:2.625em;line-height:3.125rem}.post-list{padding-top:5em}}</style><link rel="preload" href="/assets/css/main.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript> <script type="text/javascript"> /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */ (function(w){"use strict";if(!w.loadCSS){w.loadCSS=function(){}} var rp=loadCSS.relpreload={};rp.support=(function(){var ret;try{ret=w.document.createElement("link").relList.supports("preload")}catch(e){ret=!1} return function(){return ret}})();rp.bindMediaToggle=function(link){var finalMedia=link.media||"all";function enableStylesheet(){link.media=finalMedia} if(link.addEventListener){link.addEventListener("load",enableStylesheet)}else if(link.attachEvent){link.attachEvent("onload",enableStylesheet)} setTimeout(function(){link.rel="stylesheet";link.media="only x"});setTimeout(enableStylesheet,3000)};rp.poly=function(){if(rp.support()){return} var links=w.document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var link=links[i];if(link.rel==="preload"&&link.getAttribute("as")==="style"&&!link.getAttribute("data-loadcss")){link.setAttribute("data-loadcss",!0);rp.bindMediaToggle(link)}}};if(!rp.support()){rp.poly();var run=w.setInterval(rp.poly,500);if(w.addEventListener){w.addEventListener("load",function(){rp.poly();w.clearInterval(run)})}else if(w.attachEvent){w.attachEvent("onload",function(){rp.poly();w.clearInterval(run)})}} if(typeof exports!=="undefined"){exports.loadCSS=loadCSS} else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this)) </script></head><body class="site"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KDHGNV6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --><header class="header" itemscope itemtype="http://schema.org/SiteNavigationElement" aria-label="Main navigation"><div class="container"><div class="header__inner"> <a class="header__logo" href="/"><div class="header__logo--container"> <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 294.779 205.349"><defs><style>.cls-1{fill:#fff;}.cls-2{font-size:28px;font-family:Roboto-Medium, Roboto;font-weight:500;}</style></defs><path d="M177.284,200.364a80.333,80.333,0,0,0-16.5,6c-7.8,3.9-11,6.2-18.1,13.3-13.9,14-20.2,29.2-20.3,49.1-.1,12.8,1.3,18.7,7,30.8,14,29.2,47.8,45.1,78.9,37.2,14.7-3.8,29-13.2,44-29.2l7.5-8,7.5,8c15,16,29.3,25.4,44,29.2,36.3,9.3,74.5-13.9,84.2-51,2.3-8.7,2.3-25.3,0-34a95.883,95.883,0,0,0-5.9-15c-7.7-15.8-24.3-29.6-42.2-35.2-8.1-2.5-22.4-3.4-31.1-1.9-15.9,2.8-33.4,12.5-48.4,26.8l-8.2,7.9-8.1-7.9C228.184,203.964,203.384,195.164,177.284,200.364Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M348.384,203.264c19.3,6.4,32.8,18.5,41.5,37,5.9,12.7,7.6,25.5,4.6,34.1-5.4,15.2-15,23.1-32.5,27-8.8,2-28.4,1.5-34.7-.8l-3.9-1.5,5.4-.7c24.7-3.2,35.2-32.1,18.2-50a34.28,34.28,0,0,0-17.9-9.2c-9-1.3-20,5-34.7,20.1l-8.1,8.3-8.1-10.1c-4.5-5.6-10.3-12.8-12.9-16l-4.8-5.8,5.9-6c14.7-15,32.2-25.2,49.5-28.9C323.684,199.164,339.684,200.364,348.384,203.264Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M184.684,227.864a58.838,58.838,0,0,1,21.5,13c3.6,3.3,6.5,6.4,6.4,6.7-.1.4,4.2,5.1,9.5,10.4,5.3,5.4,9.7,10.2,9.7,10.6,0,1.6-11.9,14-18.3,19-9.4,7.4-14.1,9.6-21,9.5-20-.3-33.2-22.4-24.3-40.7,7.8-16,28.2-20.9,40.9-9.8.9.8,2,1.2,2.3.9,1-1-8.1-6.3-13.1-7.7-11.1-3.1-25.7,4.6-31.6,16.8-3.2,6.7-3.2,17.8.1,24.6,5.9,12.2,20.3,19.7,31.7,16.7,6.3-1.7,15.9-8.7,25.8-18.7l9-9.1,9.5,10.4c5.2,5.7,11,12.2,12.9,14.4l3.4,3.9-9.4,9.6c-16.6,16.9-29.3,24.9-44.9,28-38.4,7.7-75.4-19.2-81-58.8-2.3-16.1,3.1-33.1,13.4-42,2.8-2.4,10.1-6.2,15.1-7.8C160.884,224.964,175.784,224.964,184.684,227.864Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M338.484,243.364c9.8,4.7,15.5,13.9,15.5,25.4,0,11.6-5.6,20.6-15.9,25.6-12.8,6.3-22.9,2.7-40-14.2-5.7-5.6-10.3-10.7-10.3-11.4,0-2.1,19.3-20.3,25.3-23.9C322.684,239.264,328.884,238.864,338.484,243.364Z" transform="translate(-112.404 -133.469)"/><text class="cls-2" transform="translate(0 55.323)">Where will you go next?</text><text x="-112.404" y="-133.469"/></svg></div></a><nav class="header__links"><div class="container header__links-wrapper"> <a class="header__link" href="/" itemprop="url"> <span itemprop="name">Home</span> </a> <a class="header__link" href="/about" itemprop="url"> <span itemprop="name">About</span> </a> <a class="header__link" href="/categories" itemprop="url"> <span itemprop="name">Categories</span> </a> <a class="header__link" href="/contact" itemprop="url"> <span itemprop="name">Contact</span> </a></div></nav><div class="header__toggle"> <span></span> <span></span> <span></span></div></div></div></header><div class="hero lazyload" data-bg="http://localhost:4000/assets/img/posts/cryptocurrency.jpg"><div class="hero__wrap"><div class="hero__categories"> <a class="label" href="/categories/#Crypto">Crypto</a> &nbsp; <a class="label" href="/categories/#Development">Development</a></div><h1 class="hero__title">CryptoCraze - Text Notifications</h1><p class="hero__meta"> <span> <time>12 Dec 2017</time>&nbsp;&middot; </span> <span> 10 mins read </span></p></div></div><main class="site__content"><div class="container"><article class="post-content" itemprop="articleBody"><p>Have you heard of cryptocurrencies? So has the rest of the world. Why not make your updates a little easier?</p><p><img src="/images/crypto-notifications/blockchain_comic.jpg" alt="blockchain_comic" class="center-shrink" /></p><p>The above image isn’t pertinent to the blog post at all, but I thought it was hilarious and slightly indicative of the lack of knowledge about the actual underlying tech behind a lot of these cryptocurrencies. It’s actually a play on a 1995 Dilbert comic strip that made the same joke but with SQL databases lol. Also don’t get me wrong I barely understand any of the tech behind the coins.</p><p>Recently, my roommate and Chicago legend <a href="https://www.linkedin.com/in/joseph-willcox-will-jaroszewicz-27313466">Will</a> and I have recently (like everyone in the world) pretty intrigued by cryptocurrencies. We follow the markets pretty closely and at one point, Willy brought up the good point that it probably wasn’t healthy if we were checking this all the time.</p><p>He made a good point. There’s a difference between being invested in something and having your life dependent on it. I thought about some ways that we could simplify this. After learning about <code class="language-plaintext highlighter-rouge">cronjobs</code> at work, I figured this is an area where it could come into play. I set out to set up automated daily text alerts with the cryptocurrencies of our preference.</p><p>As always, if you don’t care about the blog (totally fine), you can check out the <a href="https://github.com/johnlarkin1/crypto-notifications">code here</a>!</p><h1 id="coinmarketcap">CoinMarketCap</h1><p>Unsurprisingly with the boom of cryptocurrencies, there was a couple of strong APIs that opened up for grabbing cryptocurrency data. Most notably, GDAX has a really strong API. They care about their API because you’re able to trade through the API which means… automated trading and algos. Huh that sounds so familiar…</p><p>However, I wasn’t really trying to trade. I just wanted information. The best site that I’ve found to check a ton of different cryptocurrency information is <a href="https://www.coinmarketcap.com">Coin Market Cap</a>. Really great website - doesn’t have such interesting graphics as a depth chart which GDAX promotes, but definitely has close to live prices.</p><h3 id="installation-for-coinmarketcap-api">Installation for CoinMarketCap API</h3><p>The API is pretty basic, but still has some decent functionality. You can simply <code class="language-plaintext highlighter-rouge">pip install</code> the package like so:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>coinmarketcap
</code></pre></div></div><p>Again, the functionality is pretty limited, but essentially you just want to grab the market with</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">market</span> <span class="o">=</span> <span class="n">coinmarketcap</span><span class="p">.</span><span class="n">Market</span><span class="p">()</span>
</code></pre></div></div><p>Then from here, you can grab the ticker with a certain currency. It defaults to USD though so normally just saying</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">crypto_market_info</span> <span class="o">=</span> <span class="n">market</span><span class="p">.</span><span class="n">ticker</span><span class="p">()</span>
</code></pre></div></div><p>This is going to grab a list of dictionaries of the top 100 cryptos organized by marketcap. This is the default. If you actually pass in <code class="language-plaintext highlighter-rouge">market.ticker(limit=0)</code> then you grab <em>all</em> of the cryptos that are listed on coinmarketcap (<em>hint: this is too much</em>). You can also pass in a currency if you want to observe the stats in a different currency.</p><p>The dictionaries for each crypto are filled with a decent amount of information. The keys are as follows:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">market_info_btc_dict</span><span class="p">.</span><span class="n">keys</span><span class="p">()</span>
<span class="p">[</span><span class="sa">u</span><span class="s">'market_cap_usd'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'price_usd'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'last_updated'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'name'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'24h_volume_usd'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'percent_change_7d'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'symbol'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'price_btc'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'rank'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'percent_change_1h'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'total_supply'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'cached'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'max_supply'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'available_supply'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'percent_change_24h'</span><span class="p">,</span> <span class="sa">u</span><span class="s">'id'</span><span class="p">]</span>
</code></pre></div></div><p>So yeah! You can do whatever you want with that.</p><h1 id="twilio">Twilio</h1><p>As for sending text messages through a python script, I wasn’t able to discern a clear way of doing this without another great API. So what I did (and you can expand on this portion if you want) is look towards <a href="https://www.twilio.com/">Twilio</a>. All you have to do after you sign up and register an account is confirm the numbers that you’re being used and do some simple cross confirmation from the cell device and Twilio.</p><p>After that, it’s pretty straightforward but you can use the <a href="https://www.twilio.com/docs/api">Twilio API</a>. The main things that you need are a Twilio account sid and a Twilio account authentication token.</p><p>I just stored this information in a yaml file (called <code class="language-plaintext highlighter-rouge">api_keys.yaml</code>) because those are really easy to deal with. Essentially, just create a yaml file with some of this pertinent information. Note that because I thought I might do some algo trading, I also configured this script to make sure that I was connecting to gdax… You can remove that functionality if it’s burdening the program.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twilio_account_sid: &lt;sid&gt;
twilio_auth_token: &lt;auth_token&gt;
gdax_key: &lt;key&gt;
gdax_api_secret: &lt;api_secret&gt;
gdax_passphrase: &lt;passphrase&gt;
</code></pre></div></div><p>And then yeah you’re good to send text messages (and also trade on GDAX algorithmically if you want to extend it a bit). It’s as simple as passing in the following information.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">key_dict</span><span class="p">[</span><span class="s">'twilio_account_sid'</span><span class="p">],</span> <span class="n">key_dict</span><span class="p">[</span><span class="s">'twilio_auth_token'</span><span class="p">])</span>
<span class="n">cryptos_to_get</span> <span class="o">=</span> <span class="p">[</span><span class="s">'BTC'</span><span class="p">,</span> <span class="s">'ETH'</span><span class="p">,</span> <span class="s">'MIOTA'</span><span class="p">,</span> <span class="s">'XRP'</span><span class="p">]</span>
<span class="n">string_builder</span> <span class="o">=</span> <span class="n">get_crypto_market_info</span><span class="p">(</span><span class="n">cryptos_to_get</span><span class="p">)</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">numbers_to_send</span><span class="p">:</span>
    <span class="n">mess</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">messages</span><span class="p">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">to</span>   <span class="o">=</span> <span class="n">number</span><span class="p">,</span> 
        <span class="n">from_</span><span class="o">=</span> <span class="n">twilio_number</span><span class="p">,</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">string_builder</span><span class="p">)</span>
</code></pre></div></div><p>I didn’t want to grab all of the crypto information. Too much information is overwhelming so I just specified the symbols of interest. Boom! You’ve got the basic underlying infrastructure to send text messages to your self about crypto information just by a python program.</p><h1 id="cronjob">Cronjob</h1><p>But why stop there? Why not automate the delivery of these messages? This was something I had no experience with before <a href="https://www.belvederetrading.com">Belvedere</a>, but <code class="language-plaintext highlighter-rouge">cronjobs</code> are an incredibly useful tool for a developer to have. This is a way to schedule a task to be run routinely and automatically on either linux or mac operating systems.</p><p>If you’ve never scheduled any cronjob’s and you own a mac that you’re casually scrolling through this site on, then you can follow these steps.</p><p>Open up terminal and run,</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab -e
</code></pre></div></div><p>Ok, so now you’re good to go for rigging up your own cronjob.</p><p>Formatting!</p><p>All cron jobs start with the following description. This is going to describe how often you want your actual job to be run. It’ll follow the following format (which can be found all over the palce). This one is <a href="https://www.nncron.ru/help/EN/working/cron-format.htm">good</a>. But basically can be summarized like so:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;minutes&gt; &lt;hours&gt; &lt;dayOfMonth&gt; &lt;month&gt; &lt;dayOfTheWeek&gt;
   |         |         |          |          |- (0-7) - 0 and 7 both represent Sunday, or * for wildcard
   |         |         |          |- (1-12) - months, or * for wilcard
   |         |         |- (1-31) - days, or * for wildcard
   |         |- (0-23) - hours of the day, or * for wildcard (local time! not UTC)
   |- (0-59) - minutes of the hour, or * for wildcard
</code></pre></div></div><p>It’s about that simple. Again, the times are run in local time. The other thing is that the <code class="language-plaintext highlighter-rouge">*</code> is generally an indication for will take anything in. So it covers all possible options. Other things, is you can easily specify ranges or disjoin times. For example,</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>30 5,17 * * 1-5 # means all weekdays, at 530am, 530pm 
</code></pre></div></div><p>is valid. See how you can specify <code class="language-plaintext highlighter-rouge">5,17</code> which selects only 5am and 5pm, and also just do a full range (1-5)?</p><p>So if you want to execute a python program what you’ll have to specify is your python path. So you can do</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 12 * * 1-5 /opt/local/bin/python &lt;path_to_actual_file&gt; &lt;optional_program_args&gt;
</code></pre></div></div><p>This should be good to go for automating your python script to run with regularity!</p><h3 id="why-the-tmp-file">Why the tmp file?</h3><p>Another interesting note. <code class="language-plaintext highlighter-rouge">crontab -e</code> edits <strong>users’ crontabs</strong> meaning that this is specified at the user level. This is not a system wide cronjob that will run regardless. The reason when you save out of this is that you’ll see it most likely stored in <code class="language-plaintext highlighter-rouge">/tmp/crontab.&lt;randomHash&gt;</code> is because this is actually pulling a <em>copy</em> of your user level cronjobs that are scheduled. It copies the crontab file to a temporary directory mainly for two reasons.</p><ol><li>Sanity check</li><li>Preventing two users from editing the same file at the same time.</li></ol><p>If you’re on OS, then where your actual cronjob is stored at the user level is in <code class="language-plaintext highlighter-rouge">/var/at/tabs</code>. Note however, that you’ll need to access this directory if you’re really trying to check out the ground source of truth for cronjobs (because this is protected information by the system… hence the copy over into a temporary directory). Anyway! This tangent was just for the more curious.</p><h3 id="printing-to-terminal-during-your-program">Printing to terminal during your program</h3><p>So if you’ve got a cronjob running to execute this program one thing to be mindful of is printing out information during the program’s lifetime. What’s going to happen is the next time that you open up your terminal, your OS might say “You have mail” before printing our your normal bash prompt. This is fine - it just means there’s information from the cronjob that has been stored in your user mail file. To deal with this, nagivate to <code class="language-plaintext highlighter-rouge">cd /var/mail</code>. Once you’re here (if you’re seeing that you’ve got mail message), you should have some file that you can read that will either tell you what you’ve printed our or any errors that occured when you run your program. Another thing to be mindful of is that your <strong>working directory</strong> of the program is going to be inheritely different because it’s being executed from your home directory. So that means that you need to take this into account when you’re writing your cronjob programs - if that’s relevant that is.</p><h3 id="terminology">Terminology</h3><p>I’ve been flipping between cronjob and crontab, but there’s a rather important distinction. <strong>Cronjobs</strong> are what you put into your <strong>crontab</strong>. It’s really that simple. <strong>Crontab</strong> is the tab that holds all of your cron jobs.</p><h1 id="putting-it-all-together">Putting it All Together</h1><p>This was a fun little project to code up and to gain some experience in some things that I’m not super familiar in. I hope that reading it has been a helpful dive and hopefully inspired you to automate either some information or useful jobs that you’ve been thinking about. As always, please let me know if there’s anyway to improve my code or anything I can help you with. Again, feel free to check out the corresponding <a href="https://github.com/johnlarkin1/crypto-notifications">code</a>. I’ll leave everyone with another great comic.</p><p><img src="/images/crypto-notifications/bitcoin_comic.png" alt="bitcoin_comic" class="center-shrink" /></p></article><div class="post-content controls__inner"><div class="controls__item prev"> <span>Previous</span> <a href="/2017/the-break/"> <span> <svg xmlns="http://www.w3.org/2000/svg" width="6" height="11"><path fill="fillColor" d="M5.647 1.718c.37-.434.323-1.09-.106-1.465A1.016 1.016 0 0 0 4.095.36L.25 4.875a1.05 1.05 0 0 0 .017 1.378l3.95 4.407c.38.424 1.03.456 1.448.07a1.05 1.05 0 0 0 .07-1.468l-3.34-3.725 3.253-3.819z"/> </svg> </span> A Note on Swarthmore </a></div><div class="controls__item next"> <span>Next</span> <a href="/2018/crypto-google-sheets-update/"> CryptoCraze - Google Sheets... <span> <svg xmlns="http://www.w3.org/2000/svg" width="6" height="11"><path fill="#fillColor" d="M.353 9.282c-.37.434-.323 1.09.106 1.465a1.016 1.016 0 0 0 1.446-.107L5.75 6.125a1.05 1.05 0 0 0-.017-1.378L1.784.34A1.015 1.015 0 0 0 .336.27a1.05 1.05 0 0 0-.07 1.468l3.34 3.725L.353 9.282z"/> </svg> </span> </a></div></div></div><div class="comments"><div class="container"><div class="post-content"><div id="disqus_thread"></div><script> var disqus_config = function () { this.page.url = 'http://localhost:4000/2017/crypto-notifications/'; this.page.identifier = 'http://localhost:4000/2017/crypto-notifications/'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://jlarks32.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the comments.</noscript></div></div></div></main><footer class="footer"><div class="container"><nav class="social"> <a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/johnlarkin1"> <svg class="social__icon" viewBox="0 0 20 20" width="20px" height="20px"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg> </a></nav><span>&copy; 2022 Where will you go next?. All rights reserved.</span></div></footer><script async src="/assets/js/bundle.js"></script></body></html>
