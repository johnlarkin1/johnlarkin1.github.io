<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --><title>Backtracking Sudoku Solver | Where will you go next?</title><meta name="generator" content="Jekyll v3.9.1" /><meta property="og:title" content="Backtracking Sudoku Solver" /><meta name="author" content="johnlarkin1" /><meta property="og:locale" content="en_US" /><meta name="description" content="Bored of solving sudokus normally? Try out this sudoku solver." /><meta property="og:description" content="Bored of solving sudokus normally? Try out this sudoku solver." /><link rel="canonical" href="http://localhost:4000/2016/sudoku-solver/" /><meta property="og:url" content="http://localhost:4000/2016/sudoku-solver/" /><meta property="og:site_name" content="Where will you go next?" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-12-23T00:00:00-08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Backtracking Sudoku Solver" /> <script type="application/ld+json"> {"description":"Bored of solving sudokus normally? Try out this sudoku solver.","author":{"@type":"Person","name":"johnlarkin1"},"@type":"BlogPosting","url":"http://localhost:4000/2016/sudoku-solver/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/mountain.png"},"name":"johnlarkin1"},"headline":"Backtracking Sudoku Solver","dateModified":"2016-12-23T00:00:00-08:00","datePublished":"2016-12-23T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2016/sudoku-solver/"},"@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png?v=qA3OXqyw77"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png?v=qA3OXqyw77"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png?v=qA3OXqyw77"><link rel="manifest" href="/assets/img/icons/manifest.json?v=qA3OXqyw77"><link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg?v=qA3OXqyw77" color="#5bbad5"> <!--[if IE]><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><![endif]--><link rel="shortcut icon" href="/assets/img/icons/favicon.ico?v=qA3OXqyw77"><meta name="apple-mobile-web-app-title" content="Sleek"><meta name="application-name" content="Sleek"><meta name="msapplication-config" content="/assets/img/icons/browserconfig.xml?v=qA3OXqyw77"><meta name="theme-color" content="#ffffff"> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-KDHGNV6"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'GTM-KDHGNV6'); </script><style class="inlineCSS"> h1{color:#313237;margin-top:0;margin-bottom:.5rem}.dark-bg{background-color:#313237}@media only screen and (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:last-of-type,.post-card:nth-child(2n+2){margin-right:0}}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figure,main{display:block}figure{margin:1em 40px}a{background-color:transparent;-webkit-text-decoration-skip:objects}img{border-style:none}svg:not(:root){overflow:hidden}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}body{-webkit-overflow-scrolling:touch}*,::after,::before{-webkit-box-sizing:inherit;box-sizing:inherit}.site{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.site__content{-webkit-box-flex:1;-ms-flex:1;flex:1}img{max-width:100%;height:auto;width:auto;vertical-align:middle}figure{margin:0}body{background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Hiragino Sans GB","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;font-size:1rem;line-height:1.5;color:#343851;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}p{margin-top:0;margin-bottom:1.25rem}h1,h2{color:#313237;margin-top:0;margin-bottom:.5rem}a{color:#277cea;text-decoration:none;border-bottom:1px dashed #277cea}.blur{background:#fff;filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="16" /></filter></svg>#filter');-webkit-filter:blur(1rem);filter:blur(1rem)}.container{padding:0 20px;max-width:100%;margin:0 auto}@media only screen and (min-width:36em){.container{max-width:540px;margin:0 auto}}@media only screen and (min-width:48em){.container{max-width:720px;margin:0 auto}}@media only screen and (min-width:62em){.container{max-width:960px;margin:0 auto}}@media only screen and (min-width:75em){.container{max-width:1170px;margin:0 auto}}.header{background-color:#fff;color:#343851;position:absolute;z-index:4;width:100%;top:0;left:0;will-change:transform;-webkit-transform:translateY(0);transform:translateY(0)}.header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:0}.header__logo{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;overflow:hidden;padding:19px 0;margin-right:1.25rem;outline:0;border-bottom:0;color:#313237}.header__logo .header__logo--container{width:58px}.header__logo .header__logo--container .logo{fill:currentColor}.header__inner{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:3.75em;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header__links{padding-bottom:.5rem;display:none;position:absolute;top:3.75em;left:0;width:100%;height:auto;background:#fff}.header__link{color:#343851;padding:.938rem 0;border-top:1px solid #ededed}.header__toggle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px;height:100%;background-color:transparent;padding-left:1.25rem}.header__toggle span{display:block;position:relative;margin-top:4px;background-color:#343851;width:100%;height:2px;border-radius:1px}.header__toggle span:first-child{margin-top:0}@media (min-width:62em){.header__toggle{display:none;visibility:hidden}.header__links{position:static;padding:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;visibility:visible;width:auto;height:100%}.header__links-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;padding:0}.header__link{position:relative;padding:.938rem 1rem;border:0;height:100%}.header__link::after{content:"";display:block;position:absolute;left:0;bottom:0;height:3px;width:100%;-webkit-transform:scaleX(0);transform:scaleX(0);background:#277cea}}.post-card{display:block;position:relative;width:100%;min-height:250px;border-radius:4px;overflow:hidden;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.08);box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:2.25rem;border-bottom:0}@media only screen and (min-width:48em){.post-card{width:48.4375%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:0}}@media only screen and (min-width:75em){.post-card{width:31.25%;margin-right:3.125%}.post-card:nth-child(2n+2){margin-right:3.125%}}.post-card__label{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.post-card__inner{display:block;position:relative;padding:1.875rem 1.25rem .625rem;width:100%;color:#838c8d;border-bottom:0}.post-card__header{margin-bottom:.75rem}.post-card__meta{font-size:.875rem}.post-card__thumb{margin:0;background:#fff;position:relative;overflow:hidden}.post-card__thumb::after{content:"";display:block;height:0;width:100%;padding-bottom:56.25%}.post-card__thumb>*{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.label{padding:0 10px;margin-bottom:1rem;display:inline-block;line-height:20px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.8);border:2px solid rgba(255,255,255,.5);border-radius:100px}.hero{margin:3.75rem auto 0;min-height:16.25rem;width:100%;position:relative;background-color:#dde5ea;background-repeat:no-repeat;background-position:50%;background-size:cover}@media only screen and (min-width:62em){.hero{margin:0 auto;height:36em}}.hero::before{position:absolute;display:block;content:"";top:0;left:0;width:100%;height:100%;background:rgba(52,56,81,.8)}.hero__wrap{position:absolute;margin:auto;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;color:rgba(255,255,255,.8);width:100%;max-width:90%;z-index:1}.hero__wrap .hero__title{font-size:1.8em;color:#fff}.blog{background-color:#f9f9f9}.post-list{padding-top:2.5em;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}@media only screen and (min-width:48em){.hero__wrap{max-width:40em}.hero__wrap .hero__title{padding:1rem 0;font-size:2.625em;line-height:3.125rem}.post-list{padding-top:5em}}</style><link rel="preload" href="/assets/css/main.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript> <script type="text/javascript"> /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */ (function(w){"use strict";if(!w.loadCSS){w.loadCSS=function(){}} var rp=loadCSS.relpreload={};rp.support=(function(){var ret;try{ret=w.document.createElement("link").relList.supports("preload")}catch(e){ret=!1} return function(){return ret}})();rp.bindMediaToggle=function(link){var finalMedia=link.media||"all";function enableStylesheet(){link.media=finalMedia} if(link.addEventListener){link.addEventListener("load",enableStylesheet)}else if(link.attachEvent){link.attachEvent("onload",enableStylesheet)} setTimeout(function(){link.rel="stylesheet";link.media="only x"});setTimeout(enableStylesheet,3000)};rp.poly=function(){if(rp.support()){return} var links=w.document.getElementsByTagName("link");for(var i=0;i<links.length;i++){var link=links[i];if(link.rel==="preload"&&link.getAttribute("as")==="style"&&!link.getAttribute("data-loadcss")){link.setAttribute("data-loadcss",!0);rp.bindMediaToggle(link)}}};if(!rp.support()){rp.poly();var run=w.setInterval(rp.poly,500);if(w.addEventListener){w.addEventListener("load",function(){rp.poly();w.clearInterval(run)})}else if(w.attachEvent){w.attachEvent("onload",function(){rp.poly();w.clearInterval(run)})}} if(typeof exports!=="undefined"){exports.loadCSS=loadCSS} else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this)) </script></head><body class="site"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KDHGNV6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --><header class="header" itemscope itemtype="http://schema.org/SiteNavigationElement" aria-label="Main navigation"><div class="container"><div class="header__inner"> <a class="header__logo" href="/"><div class="header__logo--container"> <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 294.779 205.349"><defs><style>.cls-1{fill:#fff;}.cls-2{font-size:28px;font-family:Roboto-Medium, Roboto;font-weight:500;}</style></defs><path d="M177.284,200.364a80.333,80.333,0,0,0-16.5,6c-7.8,3.9-11,6.2-18.1,13.3-13.9,14-20.2,29.2-20.3,49.1-.1,12.8,1.3,18.7,7,30.8,14,29.2,47.8,45.1,78.9,37.2,14.7-3.8,29-13.2,44-29.2l7.5-8,7.5,8c15,16,29.3,25.4,44,29.2,36.3,9.3,74.5-13.9,84.2-51,2.3-8.7,2.3-25.3,0-34a95.883,95.883,0,0,0-5.9-15c-7.7-15.8-24.3-29.6-42.2-35.2-8.1-2.5-22.4-3.4-31.1-1.9-15.9,2.8-33.4,12.5-48.4,26.8l-8.2,7.9-8.1-7.9C228.184,203.964,203.384,195.164,177.284,200.364Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M348.384,203.264c19.3,6.4,32.8,18.5,41.5,37,5.9,12.7,7.6,25.5,4.6,34.1-5.4,15.2-15,23.1-32.5,27-8.8,2-28.4,1.5-34.7-.8l-3.9-1.5,5.4-.7c24.7-3.2,35.2-32.1,18.2-50a34.28,34.28,0,0,0-17.9-9.2c-9-1.3-20,5-34.7,20.1l-8.1,8.3-8.1-10.1c-4.5-5.6-10.3-12.8-12.9-16l-4.8-5.8,5.9-6c14.7-15,32.2-25.2,49.5-28.9C323.684,199.164,339.684,200.364,348.384,203.264Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M184.684,227.864a58.838,58.838,0,0,1,21.5,13c3.6,3.3,6.5,6.4,6.4,6.7-.1.4,4.2,5.1,9.5,10.4,5.3,5.4,9.7,10.2,9.7,10.6,0,1.6-11.9,14-18.3,19-9.4,7.4-14.1,9.6-21,9.5-20-.3-33.2-22.4-24.3-40.7,7.8-16,28.2-20.9,40.9-9.8.9.8,2,1.2,2.3.9,1-1-8.1-6.3-13.1-7.7-11.1-3.1-25.7,4.6-31.6,16.8-3.2,6.7-3.2,17.8.1,24.6,5.9,12.2,20.3,19.7,31.7,16.7,6.3-1.7,15.9-8.7,25.8-18.7l9-9.1,9.5,10.4c5.2,5.7,11,12.2,12.9,14.4l3.4,3.9-9.4,9.6c-16.6,16.9-29.3,24.9-44.9,28-38.4,7.7-75.4-19.2-81-58.8-2.3-16.1,3.1-33.1,13.4-42,2.8-2.4,10.1-6.2,15.1-7.8C160.884,224.964,175.784,224.964,184.684,227.864Z" transform="translate(-112.404 -133.469)"/><path class="cls-1" d="M338.484,243.364c9.8,4.7,15.5,13.9,15.5,25.4,0,11.6-5.6,20.6-15.9,25.6-12.8,6.3-22.9,2.7-40-14.2-5.7-5.6-10.3-10.7-10.3-11.4,0-2.1,19.3-20.3,25.3-23.9C322.684,239.264,328.884,238.864,338.484,243.364Z" transform="translate(-112.404 -133.469)"/><text class="cls-2" transform="translate(0 55.323)">Where will you go next?</text><text x="-112.404" y="-133.469"/></svg></div></a><nav class="header__links"><div class="container header__links-wrapper"> <a class="header__link" href="/" itemprop="url"> <span itemprop="name">Home</span> </a> <a class="header__link" href="/about" itemprop="url"> <span itemprop="name">About</span> </a> <a class="header__link" href="/categories" itemprop="url"> <span itemprop="name">Categories</span> </a> <a class="header__link" href="/contact" itemprop="url"> <span itemprop="name">Contact</span> </a></div></nav><div class="header__toggle"> <span></span> <span></span> <span></span></div></div></div></header><div class="hero lazyload" data-bg="http://localhost:4000/assets/img/posts/sudoku-newspaper.jpg"><div class="hero__wrap"><div class="hero__categories"> <a class="label" href="/categories/#Algorithms">Algorithms</a></div><h1 class="hero__title">Backtracking Sudoku Solver</h1><p class="hero__meta"> <span> <time>23 Dec 2016</time>&nbsp;&middot; </span> <span> 9 mins read </span></p></div></div><main class="site__content"><div class="container"><article class="post-content" itemprop="articleBody"><p>Bored of solving sudokus normally? Try out this sudoku solver.</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/8/8c/Sudoku_solved_by_bactracking.gif" alt="Alt text" class="center-image" /></p><p>Above, is a visualization from Wikipedia, about the sudoku backtracking algorithm.</p><h1 id="concept">Concept</h1><p>If you don’t care about any of this, and just want to crank out some computationally solved sudokus, <a href="https://github.com/johnlarkin1/sudoku-solver">get the code here</a>.</p><p>After waiting on the airplane and solving another soduko from the back of a Skymiles magazine, I thought it might be fun to build a sudoku solver. At first, I was planning on implementing essentially a brute force approach, where I would try a possible combination for a cell, and then with that possible cell filled, try to fill out the cell from there. I figured this would be considered brute force.</p><p>As it turns out, that approach is a little bit more sophisticated then just basic brute force, and is actually commonly called <a href="https://en.wikipedia.org/wiki/Backtracking">backtracking</a>. You can read more about it <a href="#theory">below</a>. The algorithm makes pretty intuitive sense. You find the possible options for a given cell, and then recurse on the given sudoku from there. When you find one that is fully filled and satisfied, you just short out, and keep returning true and then you’ve got yourself the golden sudoku. The solution! Once again, if you’re just interested in grabbing the actual program, <a href="https://github.com/johnlarkin1/sudoku-solver">you can find it here</a>.</p><p>The actual textbook definition of brute-force means to iterate over the entire search space, and check whether that solution is valid. So you can imagine that this would be <strong>literally</strong> generating all possible values for all open cells. This is also going to be discussed further <a href="#runtime">below</a>.</p><h1 id="program">Program</h1><p>The program is pretty simple. There is a menu when you first start the program where you can enter in sudoku matrices either from another file, from <code class="language-plaintext highlighter-rouge">stdin</code>, solve a default sudoku, or cycle through a directory. The only other thing to know is that the unfilled spaces on the sudoku are marked by EITHER 0 or -1. You can choose at your fancy. Let me know if there are any issues besides that.</p><h1 id="review-of-sudoku">Review of Sudoku</h1><p>I figured I should throw this here in case some people aren’t totally clear of the rules of sudoku or even what it is. Sudoku is a grid of 9 x 9 cells. That’s 81 cells in total. There are 9 different unique subblocks, with have 9 cells in them. Some of these cells might be filled at the start of the puzzle. There <em>has</em> to be one unique solution to every sudoku puzzle, or else it is not valid. The rules in terms of filling the cells are found below:</p><ol><li>Each block must contain the numbers 1-9</li><li>Each row must contain the numbers 1-9</li><li>Each column must contain the numbers 1-9</li></ol><p>And that’s really it! Otherwise then that, it’s just filling in the cells.</p><h1 id="theory">Theory behind Backtracking</h1><p>Ok so the theory behind backtracking. How is this different than the brute force approach? This <a href="http://algorithms.tutorialhorizon.com/introduction-to-backtracking-programming/">site</a> has a pretty good synopsis. One that I probably wish I would have read before just blindly leaping into trying to solve this problem. As the author puts it, recursion is really the name of the game. The idea is that we pick one possible starting option out of a bunch and then we recurse on that solution. If that solution doesn’t work, then we go back to our original assertion, and we try another. Then we recurse off of that as well. If none of the starting options actually work, then there are no solutions to the problem itself. The crux of backtracking is also that when you recurse, you only consider the solutions or guesses that you have already made.</p><p>You can also think about this as a graph search problem. Wikipedia provides an interesting way of generalizing the backtracking algorithm.</p><p>Note, in the following, <em>P</em> is essentially data that is being taken in and is related to the problem.</p><ol><li><em>root</em>(<em>P</em>): return the partial candidate at the root of the search tree.</li><li><em>reject</em>(<em>P</em>,<em>c</em>): return <em>true</em> only if the partial candidate <em>c</em> is not worth completing.</li><li><em>accept</em>(<em>P</em>,<em>c</em>): return true if <em>c</em> is a solution of <em>P</em>, and false otherwise.</li><li><em>first</em>(<em>P</em>,<em>c</em>): generate the first extension of candidate <em>c</em>.</li><li><em>next</em>(<em>P</em>,<em>s</em>): generate the next alternative extension of a candidate, after the extension <em>s</em>.</li><li><em>output</em>(<em>P</em>,<em>c</em>): use the solution <em>c</em> of <em>P</em>, as appropriate to the application.</li></ol><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">bt</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">reject</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">c</span><span class="p">)</span> <span class="n">then</span> <span class="k">return</span>
    <span class="k">if</span> <span class="n">accept</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">c</span><span class="p">)</span> <span class="n">then</span> <span class="n">output</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="n">s</span> <span class="err">←</span> <span class="n">first</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">s</span> <span class="err">≠</span> <span class="n">Λ</span> <span class="n">do</span>
        <span class="n">bt</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">s</span> <span class="err">←</span> <span class="nb">next</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
</code></pre></div></div><h1 id="runtime">Asymptotic Runtime</h1><p>So how does backtracking differ in runtime than the real brute force, just try every number in every open spot? Well let’s break down each individual runtime.</p><h3 id="brute-force-algorithm">Brute Force Algorithm</h3><p>If we think about having a normal sudoku matrix, with some \(m\) blank cells, and \(n\) possible options for each cell (in this case, for normal sudoku it’s just 9), we can think about the brute force runtime being:</p>\[O(n ^ m ) = O(9 ^ m)\]<p>for our normal sudoku game. With some variations, there might be more than just nine possibilities for each cell.</p><p>Ok so, that’s exponential. Which is obviously not great. What about backtracking?</p><h3 id="backtracking-algorithm">Backtracking Algorithm</h3><p>Before we make any claims, let’s think about the worst case for a second. In the worst case, backtracking <strong>could still fail and just revert to a normal bruteforce algorithm</strong>!! The concept of backtracking really hinges on the idea that we are able to guess a good starting value for our initial cell. But let’s think about it. Let’s say that we find our cell that we’re going to fill and the correct value for the cell is actually 9, but we’re going to go through and try 1, 2, 3, … 7, 8 all before getting to 9. For each one of those, we recurse on our guess and try all the possibilities.</p><p>So you can imagine in the <strong>very</strong> worst case, that we get really really unlucky and that backtracking still has to fully exhaust our search space. That being said, the expected runtime for our backtracking algorithm is going to be much better in reality. We are most likely going to find a good starting point and then solve the entire matrix, much more quickly than with brute force.</p><p>But still… I have to report the worst case runtime as:</p>\[O(n^m ) = O(9^m)\]<h1 id="real-runtime">Real Runtime</h1><p>I figured I would compute the runtime of a few sudoku’s. These are the ones that came installed in the directory. I just pulled them off <a href="http://www.puzzles.ca/sudoku.html">this website</a>. Mad props to them for all the free sudokus with the solutions.</p><p>Here are some of the runtimes. Note, I am just reporting the time it took to solve the matrix. I did this using python’s <code class="language-plaintext highlighter-rouge">time</code> library. Specifically, this snippet of code:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Attempting to solve sudoku from filename: {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
<span class="n">solved</span> <span class="o">=</span> <span class="n">solve_sudoku</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="k">if</span> <span class="n">solved</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">"There is no solution"</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Solved sudoku with filename: {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Time to solve sudoku: {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
    <span class="n">solution_dict</span><span class="p">[</span><span class="n">filename</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">10</span><span class="p">]]</span> <span class="o">=</span> <span class="n">solved</span>
</code></pre></div></div><p>Here are the runtimes:</p><table><thead><tr><th style="text-align: left">Sudoku Name</th><th style="text-align: right">User Time (sec)</th></tr></thead><tbody><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_257.txt </span></td><td style="text-align: right">21.5058</td></tr><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_258.txt </span></td><td style="text-align: right">3.15790</td></tr><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_259.txt </span></td><td style="text-align: right">0.07309</td></tr><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_260.txt </span></td><td style="text-align: right">2.63807</td></tr><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_261.txt </span></td><td style="text-align: right">4.79477</td></tr><tr><td style="text-align: left"><span style="font-family: Consolas;"> sudoku_262.txt </span></td><td style="text-align: right">1.11362</td></tr></tbody></table><p>You can see that most of them were solved with ease, but <code class="language-plaintext highlighter-rouge">sudoku_257.txt</code> the program really chomped on. I’m not totally sure why, but if I were to guess, the backtracking algorithm just didn’t work super great with this one, and it might have reverted to something similar to the brute force algorithm. Regardless, it’s cool to have these variations in the actual program.</p><h1 id="conclusion">Conclusion</h1><p>I actually struggled a bit with writing the code. It took me awhile to figure out how to cover all my base cases. I realized that this is on Geeks for Geeks, or at least I’m pretty sure, but I wasn’t really about looking at their solution, and I coded mine up from scratch. It’s not the most elequent, but I’m pretty proud of it. I know it could be much prettier, but at the moment, I’m content. I’m sure there are some really nice solutions out there on the web.</p><p>Anyway, <a href="https://github.com/johnlarkin1/sudoku-solver">check out the program here!</a>. It’s got some nice features, such as being able to read in a matrix from stdin, from a file, default, and cycle through a directory and check the inputs. Let me know if anyone has any improvements! The code isn’t fully optimized yet, just a solution, that works and that I’m happy and proud with.</p><p>Overall, it was a solid project to work on. Definitely awesome to pick up a new concept like backtracking, as this was my first taste of it in both academics and actual programming. I’m looking forward to learning more about it. As always, definitely feel free to comment or shoot me an email if there are any questions, or anything that I can do a lot better. Always looking to improve.</p></article><div class="post-content controls__inner"><div class="controls__item prev"> <span>Previous</span> <a href="/2016/self-selecting-terrorists/"> <span> <svg xmlns="http://www.w3.org/2000/svg" width="6" height="11"><path fill="fillColor" d="M5.647 1.718c.37-.434.323-1.09-.106-1.465A1.016 1.016 0 0 0 4.095.36L.25 4.875a1.05 1.05 0 0 0 .017 1.378l3.95 4.407c.38.424 1.03.456 1.448.07a1.05 1.05 0 0 0 .07-1.468l-3.34-3.725 3.253-3.819z"/> </svg> </span> Self Selecting Terrorists </a></div><div class="controls__item next"> <span>Next</span> <a href="/2016/particle-filter/"> Localization with a Particl... <span> <svg xmlns="http://www.w3.org/2000/svg" width="6" height="11"><path fill="#fillColor" d="M.353 9.282c-.37.434-.323 1.09.106 1.465a1.016 1.016 0 0 0 1.446-.107L5.75 6.125a1.05 1.05 0 0 0-.017-1.378L1.784.34A1.015 1.015 0 0 0 .336.27a1.05 1.05 0 0 0-.07 1.468l3.34 3.725L.353 9.282z"/> </svg> </span> </a></div></div></div><div class="comments"><div class="container"><div class="post-content"><div id="disqus_thread"></div><script> var disqus_config = function () { this.page.url = 'http://localhost:4000/2016/sudoku-solver/'; this.page.identifier = 'http://localhost:4000/2016/sudoku-solver/'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://jlarks32.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the comments.</noscript></div></div></div></main><footer class="footer"><div class="container"><nav class="social"> <a class="social__link" target="_blank" rel="noopener noreferrer" href="https://github.com/johnlarkin1"> <svg class="social__icon" viewBox="0 0 20 20" width="20px" height="20px"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg> </a></nav><span>&copy; 2022 Where will you go next?. All rights reserved.</span></div></footer><script async src="/assets/js/bundle.js"></script></body></html>
